const arr = {
  "entity": {
    "chrgDeves": [
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "DUPLICATESTMNTFEE",
            "chrgSchedNme": "DUPLICATESTMNTFEE",
            "chrgInstCde": "DUPLICATESTMNTFEE",
            "chrgTypCde": "DuplicateStatementFee",
            "chrgInstTyp": "EventCondition",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "chrgAmt": {
                "amt": 15
              },
              "aplcblChrgAmt": {
                "amt": 15
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "DuplicateStatementFeeWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 15,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 15,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 15,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 15,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "DuplicateStmntFeeReceivable"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "BillingCycle",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": []
            }
          ]
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "DISBURSEMENTFEE",
            "chrgSchedNme": "DisbursementFee",
            "chrgInstCde": "DISBURSEMENTFEE",
            "chrgTypCde": "MiscellaneousFee",
            "chrgInstTyp": "EventCondition",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "chrgAmt": {
                "amt": 10
              },
              "aplcblChrgAmt": {
                "amt": 13
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeCollected"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeReceivable"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "BillingCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": -30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": [
                {
                  "cde": "dev1",
                  "desc": "dev1",
                  "dvtn": {
                    "rte": 3
                  },
                  "opertr": "Add"
                },
                {
                  "cde": "dev2",
                  "desc": "dev2",
                  "dvtn": {
                    "rte": 2
                  },
                  "opertr": "Add"
                },
                {
                  "cde": "dev3",
                  "desc": "dev3",
                  "dvtn": {
                    "rte": 3
                  },
                  "opertr": "Substract"
                },
                {
                  "cde": "dev4",
                  "desc": "dev4",
                  "dvtn": {
                    "rte": 1
                  },
                  "opertr": "Substract"
                }
              ]
            }
          ]
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "LATECHARGE",
            "chrgSchedNme": "LATECHARGE",
            "chrgInstCde": "LATECHARGE",
            "chrgTypCde": "LateCharges",
            "chrgInstTyp": "EventCondition",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "chrgAmt": {
                "amt": 30
              },
              "aplcblChrgAmt": {
                "amt": 30
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "LateChargesWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 10,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "LateChargeReceivable"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "BillingCycle",
                      "bal": {
                        "amt": 20,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 60,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 60,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 20,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 60,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 60,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": []
            }
          ]
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "UNSECLOANINT",
            "chrgSchedNme": "UNSECURED LOAN INTEREST",
            "chrgInstCde": "UNSECLOANCHRGINSTRTN",
            "chrgTypCde": "DebitInterest",
            "chrgInstTyp": "Accruing",
            "prcTyp": "straight",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "accrChrgSumm": {
            "accrChrgDtl": {
              "annPrcntgTyp": {
                "apr": 5.11
              },
              "accrFreq": {
                "prmyFreqIntvl": {
                  "typ": "DaysBetween",
                  "val": 1
                },
                "prcsDay": "SameDay"
              },
              "accrdThruDte": "2028-02-20T00:00:00.000+0000",
              "accrFctr": 0.0003278689,
              "accrdTdy": {
                "amt": 118.03
              },
              "prjtdAccrdAmt": {
                "amt": 4.91
              },
              "isAccrReqrInd": true,
              "nxtAccrDte": "2028-02-21T00:00:00.000+0000",
              "prevAccrDte": "2028-02-18T00:00:00.000+0000"
            },
            "chrgRteDtls": [
              {
                "curRte": {
                  "chrgRte": {
                    "rawRte": 12
                  },
                  "effDte": "2028-01-25T00:00:00.000+0000"
                },
                "dvtnDtls": [
                  {
                    "cde": "AUTOPAYDEVIATION",
                    "desc": "AUTO PAY DEVIATION",
                    "dvtn": {
                     "rte": 1
                    },
                    "opertr": "Substract"
                  }
                ],
                "aplcblRte": 12
              }
            ],
            "perdcBalToDtes": [
              {
                "balAtt": {
                  "cde": "InterestAccruedBalance"
                },
                "balDtls": [
                  {
                    "prdTyp": "LifeToDate",
                    "bal": {
                      "amt": 118.03,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Monthly",
                    "bal": {
                      "amt": 83.6,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "PaymentCycle",
                    "bal": {
                      "amt": 14.75,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Quarterly",
                    "bal": {
                      "amt": 118.03,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Yearly",
                    "bal": {
                      "amt": 118.03,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  }
                ]
              },
              {
                "balAtt": {
                  "cde": "InterestArrearBalance"
                },
                "balDtls": [
                  {
                    "prdTyp": "LifeToDate",
                    "bal": {
                      "amt": 68.85,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Monthly",
                    "bal": {
                      "amt": 68.85,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "PaymentCycle",
                    "bal": {
                      "amt": 0,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Quarterly",
                    "bal": {
                      "amt": 68.85,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  },
                  {
                    "prdTyp": "Yearly",
                    "bal": {
                      "amt": 68.85,
                      "crncyCde": "USD",
                      "dte": "2028-02-21T00:00:00.000+0000"
                    }
                  }
                ]
              }
            ]
          },
          "feeDtls": []
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "MAINFEE",
            "chrgSchedNme": "Maintenance fee EOM",
            "chrgInstCde": "MAINFEE",
            "chrgTypCde": "MaintenanceFee",
            "chrgInstTyp": "Periodic",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "calcFreq": {
                "prmyFreqIntvl": {
                  "typ": "EndOfEveryMonth"
                },
                "prcsDay": "SAME_DAY"
             },
              "chrgAmt": {
                "amt": 10
              },
              "aplcblChrgAmt": {
                "amt": 10
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "MaintenanceFeeWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 8,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 8,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 8,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "MaintenanceFeeReceivable"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "BillingCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 12,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 12,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 12,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": []
            }
          ]
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "EVENTINSTRUCTION",
            "chrgSchedNme": "eventInstruction",
            "chrgInstCde": "EVENTINSTRUCTION",
            "chrgTypCde": "MiscellaneousFee",
            "chrgInstTyp": "EventCondition",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "chrgAmt": {
                "amt": 20
              },
              "aplcblChrgAmt": {
                "amt": 21
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 2.66,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeCollected"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                },
                {
                  "balAtt": {
                    "cde": "MiscellaneousFeeReceivable"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "BillingCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": -30,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": [
                {
                  "cde": "dev1",
                  "desc": "dev1",
                  "dvtn": {
                    "rte": 3
                 },
                  "opertr": "Add"
                },
                {
                  "cde": "dev2",
                  "desc": "dev2",
                  "dvtn": {
                    "rte": 2
                  },
                  "opertr": "Add"
                },
                {
                  "cde": "dev3",
                  "desc": "dev3",
                  "dvtn": {
                    "rte": 1
                  },
                  "opertr": "Substract"
                },
                {
                  "cde": "dev4",
                  "desc": "dev4",
                  "dvtn": {
                    "rte": 3
                  },
                  "opertr": "Substract"
                }
              ]
            }
          ]
        }
      },
      {
        "chrgDefDtl": {
          "arChrgSchedDtl": {
            "chrgSchedCde": "DOCFEEWAIVER",
            "chrgSchedNme": "DOCFEEWAIVER",
            "chrgInstCde": "DOCFEEWAIVER1",
            "chrgTypCde": "DocumentationFee",
            "chrgInstTyp": "EventCondition",
            "strtDte": "2028-01-25T00:00:00.000+0000",
            "inhrtncInd": false
          },
          "feeDtls": [
            {
              "chrgAmt": {
                "amt": 20
              },
              "aplcblChrgAmt": {
                "amt": 20
              },
              "perdcBalToDtes": [
                {
                  "balAtt": {
                    "cde": "DocumentationFeeWaived"
                  },
                  "balDtls": [
                    {
                      "prdTyp": "LifeToDate",
                      "bal": {
                        "amt": 2.5,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Monthly",
                      "bal": {
                        "amt": 2.5,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "PaymentCycle",
                      "bal": {
                        "amt": 0,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Quarterly",
                      "bal": {
                        "amt": 2.5,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    },
                    {
                      "prdTyp": "Yearly",
                      "bal": {
                        "amt": 2.5,
                        "crncyCde": "USD",
                        "dte": "2028-02-21T00:00:00.000+0000"
                      }
                    }
                  ]
                }
              ],
              "dvtnDtls": []
            }
          ]
        }
      }
    ]
  },
  "messages": []
}


//code
let finalArr = [];
arr.entity.chrgDeves.forEach(chrgDeve => {
  
  const chrgTypCde = chrgDeve.chrgDefDtl.arChrgSchedDtl.chrgTypCde;
  if (chrgTypCde.indexOf("Fee") > 0) {
            //  finalObj["chrgTypCde"] = chrgTypCde;
            

            if (chrgDeve.hasOwnProperty("chrgDefDtl") && chrgDeve.chrgDefDtl.hasOwnProperty("feeDtls")) {
              chrgDeve.chrgDefDtl.feeDtls.forEach(feeDtl => {
                if (feeDtl.hasOwnProperty("perdcBalToDtes")) {
                  if (feeDtl.perdcBalToDtes instanceof Array) {
                    
                    feeDtl.perdcBalToDtes.forEach(perdcBalToDte => {
                      let feeInfoEle = {};
                      feeInfoEle.feeType = chrgTypCde;
                      let feeSubInfoEle = {} ;
                      const perdcBalCde = perdcBalToDte.balAtt.cde;
                      feeSubInfoEle.feeSubType = perdcBalCde;

                      perdcBalToDte.balDtls.forEach(balDtl => {
                        if (balDtl.hasOwnProperty("prdTyp")) {
                          if (balDtl.prdTyp == 'BillingCycle') {
                            feeSubInfoEle.billingCycle = balDtl.bal.amt;
                          } else if (balDtl.prdTyp == 'LifeToDate') {
                            feeSubInfoEle.lifeToDate = balDtl.bal.amt;
                          } else if (balDtl.prdTyp == 'Monthly') {
                            feeSubInfoEle.monthly = balDtl.bal.amt;
                          } else if (balDtl.prdTyp == 'PaymentCycle') {
                            feeSubInfoEle.paymentCycle = balDtl.bal.amt;
                          } else if (balDtl.prdTyp == 'Quarterly') {
                            feeSubInfoEle.quarterly = balDtl.bal.amt;
                          } else if (balDtl.prdTyp == 'Yearly') {
                            feeSubInfoEle.yearly = balDtl.bal.amt;
                          }
                        }

                      });
                      feeInfoEle.intrFeeInfoElement = feeSubInfoEle;
                      console.log(feeInfoEle);
                      console.log(`finalArr before adding`);
                      console.log(finalArr);
                      finalArr.push(feeInfoEle);
                      console.log(`finalArr after adding `);
                      console.log(finalArr);
                    });
                  } /*else {
                    //    chrgDeve.chrgDefDtl.feeDtls.perdcBalToDte.forEach(perdcBalToDte => {
                    let feeSubInfoEle: FeeInfoElement = {} as FeeInfoElement;
                    const perdcBalCde = feeDtl.perdcBalToDte.balAtt.cde;
                    feeSubInfoEle.feeSubType = perdcBalCde;

                    feeDtl.perdcBalToDte.balDtls.forEach(balDtl => {
                      if (balDtl.hasOwnProperty("prdTyp")) {
                        if (balDtl.prdTyp == 'BillingCycle') {
                          feeSubInfoEle.billingCycle = balDtl.bal.amt;
                        } else if (balDtl.prdTyp == 'LifeToDate') {
                          feeSubInfoEle.lifeToDate = balDtl.bal.amt;
                        } else if (balDtl.prdTyp == 'Monthly') {
                          feeSubInfoEle.monthly = balDtl.bal.amt;
                        } else if (balDtl.prdTyp == 'PaymentCycle') {
                          feeSubInfoEle.paymentCycle = balDtl.bal.amt;
                        } else if (balDtl.prdTyp == 'Quarterly') {
                          feeSubInfoEle.quarterly = balDtl.bal.amt;
                        } else if (balDtl.prdTyp == 'Yearly') {
                          feeSubInfoEle.yearly = balDtl.bal.amt;
                        }
                      }

                    });
                    feeInfoEle.intrFeeInfoElement = feeSubInfoEle;
                    finalArr.push(feeInfoEle);
                  }*/

                  //  chrgeArr.push(feeSubInfoEle);
                  //  chrgeObj["balArr"] = balArr;
                  //  finalObj["chrge"] = chrgeObj;
                  //   });
                }

              });

            }
          }
        });
        console.log('finalArr');
        console.log(finalArr);
      
